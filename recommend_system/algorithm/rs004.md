### 信息检索中的文档匹配度计算：BM25匹配度系数

参考资料：[知乎：BM25算法, Best Matching](https://zhuanlan.zhihu.com/p/79202151)

#### 0.历史

`BM25`是信息索引领域用来计算query与文档相似度得分的经典算法。

BM25（Best Match25）是在信息检索系统中根据提出的query对document进行评分的算法。它主要由Stephen E.Robertson, Karen Spärck Jones等人在上世纪70到80年代提出。BM25算法首先由Okapi系统实现（Okapi是伦敦城市大学实现的信息检索系统），所以又称为`Okapi BM25`。

#### 1.概念

`BM25`是一种`BOW`（bag-of-words）模型，`BOW`模型只考虑document中词频，不考虑句子结构或者语法关系之类，把document当做装words的袋子，具体袋子里面可以是杂乱无章的。准确的说，`BM25`并不是一个单一的函数，而是一个评分函数家族。`BM25`的一般公式：

![](/assets/rs004_02.svg)

不同于`TF-IDF`，`BM25`的公式主要由三个部分组成：

1. 每个单词的权重（对应于公式中的`W_i`）
2. 单词t与query之间的相似性（对应于公式中的`R(q_i, d)`）
3. query中每个单词t与文档d之间的相关性（只在query较长时有显著意义，对应于公式中的`R(q_i, d)`）

不同于`TF-IDF`，`BM25`的公式主要由三个部分组成：

1. 每个单词的权重
2. 单词t与query之间的相似性
3. query中每个单词t与文档d之间的相关性（只在query较长时有显著意义）

其中：

$Q$表示一条query，$q_i$表示query中的单词。d表示某个搜索文档。

$W_i$表示单词权重，常用的其实就是IDF:

![](/assets/rs004_03.svg)





`BM25`是一种`BOW`（bag-of-words）模型，`BOW`模型只考虑document中词频，不考虑句子结构或者语法关系之类，把document当做装words的袋子，具体袋子里面可以是杂乱无章的。准确的说，`BM25`并不是一个单一的函数，而是一个评分函数家族，一个最著名的版本如下，给定一个Query T(由关键词t1, t2, ..., tn组成)，则一个文档 d 的`BM25`得分为：

![](/assets/rs003_01.png)

