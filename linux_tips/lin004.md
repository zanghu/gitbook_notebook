本文以在ubuntu 16.04 LTS上安装tensorflow-1.5.0为例进行说明：

**0.准备工作**

官方指南: https://www.tensorflow.org/install/install_linux?hl=zh-cn#nvidia_requirements_to_run_tensorflow_with_gpu_support

安装 libcupti-dev library, which is the NVIDIA CUDA Profile Tools Interface.
CUDA Toolkit >= 8.0的系统使用如下命令安装：
```python
$ sudo apt-get install cuda-command-line-tools
```
设置环境变量 LD_LIBRARY_PATH:
```shell
$ export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/cuda/extras/CUPTI/lib64
```
For CUDA Toolkit <= 7.5 do:
```python
$ sudo apt-get install libcupti-dev
```

在实际安装过程中，我本地安装的是CUDA9.1，但是使用可能由于ubuntu源的原因，执行 sudo apt-get install cuda-command-line-tools 显示没有相应的安装包，因此执行的是CUDA <= 7.5的命令
此外，也没有额外配置环境变量。

**1.源码以外的安装方法**

官方指南: https://www.tensorflow.org/install/install_linux?hl=zh-cn#installing_with_native_pip

Tensorflow安装方法中最简单的且被官方推荐的方法是：
```python
# STEP 1
$ sudo apt-get install python-pip python-dev   # for Python 2.7
$ sudo apt-get install python3-pip python3-dev # for Python 3.n

# STEP 2
$ pip install tensorflow      # Python 2.7; CPU support (no GPU support)
$ pip3 install tensorflow     # Python 3.n; CPU support (no GPU support)
$ pip install tensorflow-gpu  # Python 2.7;  GPU support
$ pip3 install tensorflow-gpu # Python 3.n; GPU support

# STEP 3
$ sudo pip  install --upgrade tfBinaryURL   # Python 2.7
$ sudo pip3 install --upgrade tfBinaryURL   # Python 3.n 
```

由于目前官方build的python版本必须使用CUDA9.0，使用pip安装后在我本地环境运行时会爆找不到CUDA9.0动态链接库的错误，因此只好卸载。
```python
pip uninstall tensorflow-gpu
```

**2.从源码安装tensorflow**

官方指南: https://www.tensorflow.org/install/install_sources?hl=zh-cn

\(1\)安装Bazel

官方指南: https://docs.bazel.build/versions/master/install-ubuntu.html

1. Install JDK 8
Install JDK 8 by using:
```shell
sudo apt-get install openjdk-8-jdk
```

2. Add Bazel distribution URI as a package source (one time setup)
```shell
echo "deb [arch=amd64] http://storage.googleapis.com/bazel-apt stable jdk1.8" | sudo tee /etc/apt/sources.list.d/bazel.list
curl https://bazel.build/bazel-release.pub.gpg | sudo apt-key add -
```

3. Install and update Bazel
```shell
sudo apt-get update && sudo apt-get install bazel
```
Once installed, you can upgrade to a newer version of Bazel with:
```shell
sudo apt-get upgrade bazel
```



















