## Yolo v3: 源码分析——数据配置文件与数据加载

参考资料：[https://pjreddie.com/darknet/yolo/](https://pjreddie.com/darknet/yolo/)

### 1.两个配置文件

YOLO各版本一直以来都使用两个（类）配置文件：

- 数据配置文件：用于指明样本和真值信息的位置，模型参数保存路径和模型输出结果保存路径等。

- 网络结构配置文件: 指明网络的整体结构、优化算法和每一层的结构

#### 1.1.数据配置文件

数据配置文件有以下特点：

- 数据配置文件内容相对较少。

- 数据配置文件推荐以`.data`作为数据配置文件的后缀名，例如：YOLOv3的训练配置文件`voc.data`和ctw-baseline的`chinese.data`。

- 数据配置文件不包含以下内容：（1）预处理、样本增强、batch大小相关的信息；（2）不直接包含样本真值信息的路径（darknet默认样本图片路径与对应的真值信息文件的路径存在映射规则，训练时根据该规则有样本图片路径推断真值信息文件路径）；（3）不包含样本尺寸相关的信息（darknet的样本图片加载模块可以直接）

### 2.原始数据格式

样本原始格式:

（1）图片格式

（2）真值信息文件格式

### 3.模型数据格式

模型数据格式是指经过darknet的数据加载模块加载到内存中，准备输入给为网络的第一层的（内存中）数据格式。

（1）图片格式: 容器，轴向，取值（[0-1]浮点数），预处理流程。

（2）真值信息格式：bbox表示方式（中心坐标长宽），相对坐标，每个文件说明一个样本，文件每行五个数说明一个bbox。真值信息也按照样本增强的方式进行了必要的变换。

