## Linux: 有用的命令

本文的目标是记录那些功能基本、有用且命令不太好记忆的Linux命令。

### 1.显示文件总数

特别适用于目录下有大量文件（超过几万个）的目录的情况。

* 显示指定目录下的文件数（非递归）

`ls -l |grep "^-"|wc -l`

* 显示指定目录下的目录数（非递归）

`ls -l |grep "^d"|wc -l`

* 显示指定目录下的文件数（递归）

`ls -lR |grep "^-"|wc -l`

* 显示指定目录下的目录数（递归）

`ls -lR |grep "^d"|wc -l`


以上命令都利用的是`ls -l`输出的规律，即每个文件占一行，其中常规文件的行以短横线'-'开头，目录文件的行以字母'd'开头。

![](/assets/lin035_001.PNG)

需要注意的是：以上的目录文件和常规文件知识POSIX的7类文件中的两类，不包括对其他5类文件的统计，例如使用`ln -s`命令创建的链接文件在`ls -l`中以字母'l'开头，所以不会被上面的常规文件统计命令所统计。
