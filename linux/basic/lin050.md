## Linux: 终端命令在后台执行，终端退出也不结束

参考资料: [https://www.cnblogs.com/zzyoucan/p/7764590.html](https://www.cnblogs.com/zzyoucan/p/7764590.html)

### 简介

`lsof`是系统管理/安全的尤伯工具，指“列出打开文件（lists openfiles）”。而有一点要切记，在Unix中一切（包括网络套接字）都是文件。

### 常用参数

* 1.查询指定文件描述符在哪些进程中被打开

```shell
  lsof -d 文件描述符编号
```

例如：

```shell
  lsof -d 1 # 查看那标准输出STDOUT被那些进程打开
```

* 2.查询指定进程号的进程打开了哪些文件

```shell
  lsof -p 进程号 
```

例如：

```shell
  lsof -p 3217 # 查看进程3217打开的全部文件
```

* 2、只显示打开Unix域套接字文件

```shell
  lsof -U
```

* 3.常用操作

（1）配合`ps`查看应用打开的文件描述符

先用下面的命令查看应用进程号
```shell
  ps aux | grep 应用名
```

再用`lsof`查看指定进程号的进程打开的文件
```shell
  lsof -p 进程号
```

（2）查看指定进程打开的文件数

```shell
  lsof -p 进程号 | wc -l
```














