## Linux: 内存管理机制简析

参考资料：

\[1\] [linux free 命令用法说明](https://www.imooc.com/article/26314)

\[2\] [windows和linux的内存管理](https://www.cnblogs.com/dartagnan/archive/2011/06/15/2126880.html)

\[3\] 《Linux高性能服务器编程（第3版）》，CH1

### 1.查看Linux系统当前内存使用情况

* 方法一：使用`free`命令粗略查看

```shell
$ free -m # 以MB为单位
```

或者用用户更易读的格式显示

```shell
$ free -h # 并不是所有系统的free都支持-m参数, Ubuntu支持，但SUSE Linux下就没有该参数
```

> NOTE: `free`和`avilable`的区别：
> `free`: 当前物理内存中没有被使用的那部分内存；
> `avalable`: 对于用户程序而言的当前最大可用内存; 
> 一般来说，`free` < `avilable`，原因是当前内存必然有一部分被系统作为页缓冲（或其他缓冲）称之为`buf/cache`，这部分内存是不被计算在`free`中的。但是当内存紧张的情况下，系统可以通过释放一部分`buf/cache`的空间作为程序空间，
> 因此`avilable`其实是`free` + 可释放的`buf/cache`空间之和。当然这只是理论值，实际上该公式比较粗略并不非常准确。

* 方法二：通过/proc/meminfo查看明细

```shell
$ cat /proc/meminfo
```