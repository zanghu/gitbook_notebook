## C: C标准库和POSIX标准库

**参考资料**：

\[1\] Unix环境高级编程（第3版）

本文内容主要取自\[1\]的第二章2.2小节

### 1.ISO C

制订者：ANSI -> ISO

ISO C的主要版本包括：C89-90，C99，C11

ISO C定义了C语言标准库，其中包含的头文件如下图：

![](/assets/c015_001.PNG)

可以看到标准库随着ISO C版本更新在不断扩增。

### 2.POSIX

制订者：IEEE -> ISO

POSIX是一个操作系统的*接口*标准，而非*实现*标准。由于当时的操作系统基本都是C语言实现的，所以POSIX标准事实上就是一个C函数标准，操作系统遵照POSIX标准实现的接口集合事实上就成为一个C函数头文件集合，习惯称为POSIX标准库。

POSIX.1 2008标准中定义的接口库，包含了50+个头文件。这些头文件分为*必需头文件*（38个）和*可选头文件*两类。

![](/assets/c015_002.PNG)

遵守POSIX标准的主流操作系统包括：FreeBSD，Linux，Mac OS X等。

### 3.C标准库与POSIX标准库的相互关系

#### 3.1.区别

二者的制订完全出于不同的目的，它们之间不存在理论上的关联，也不存在任何相互间的包含关系。原则上讲：

* ISO C标准的实现责任者是编译工具（例如GCC），POISX标准的实现责任者是操作系统；

* C标准库的制订者如果感兴趣，完全可以把POSIX标注库头文件纳入ISO C的头文件集中，在C标准库中为各个操作系统平台实现统一的POISX标准接口的全部或一个子集（但是考虑到目前主流类UNIX操作系统都有自己的POISX实现版本，提供的函数可能导致名称冲突，这恐怕是一大障碍）；

* 由于POSIX接口都是C函数接口，各个操作系统厂商和维护者在实现POSIX标准接口时，可以根据需要选择使用或不使用C标准库。

* ISO C标准库函数保证这些函数能够在所有遵循ISO C标准的C语言编译器之间具备可移植性，POISX标准库中的函数保证这些函数在所有遵循POSIX标准的操作系之间具有可移植性。

#### 3.2.共性

* ISO C的标准库和操作系统对POSIX标准的实现库都是C函数库，都可以用一组头文件来描述；

* ISO C标准库和POSIX标准库的函数都提供了其标准实现范围内的可移植性保证。