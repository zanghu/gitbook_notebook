## C: Linux下send和recv超时


### 1.socket中的超时

socket通讯中最基本的四个可阻塞函数是：`connect`、`send`、`recv`和`accept`，此外在高级通讯中还有`select`和`epoll`相关的一些函数也可以在阻塞模式下运行。

### 2.send和recv中的超时设置

一下代码在Ubuntu和Suse下实测有效

```c
// setsockopt正常返回0，出错返回-1
CHK_ERR(setsockopt(socket，SOL_SOCKET,SO_SNDTIMEO，(char *)&timeout,sizeof(struct timeval)));
CHK_ERR(setsockopt(socket，SOL_SOCKET,SO_RCVTIMEO，(char *)&timeout,sizeof(struct timeval)));
```