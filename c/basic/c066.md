## C: 二维指针与二维数组在使用中的注意事项

参考资料：[Dynamic Linking of Shared Libraries with Dependencies](https://stackoverflow.com/questions/26619897/dynamic-linking-of-shared-libraries-with-dependencies)

### 1.二维指针的元素是一维数组，二维指针的元素是指针

**测试代码**

```c
int a[10][20]; // 数组a可以看作的每个元素是`int [20]`的一维数组
fprintf(stdout, "a addr: %p, a + 1 addr : %p, delta = %d\n", \
        a, a + 1, (int)((char *)(a + 1) - (char *)a)); // a每增加一个单位, 地址变化sizeof(int [20])
```

**执行后**

![](/assets/c066_01.PNG)

**结论**

二维指针变量和二维数组变量的“加法运算”具有不同行为。因此，

（1）二维数组变量名不能作为作为函数的二维指针参数传入，因为这会导致指针参数的**“加法运算”**产生错误行为。同样的理由，二维指针也不能作为函数的二维数组参数传入函数；

（2）n维数组作为函数参数时，后面的`n-1`维必须给出每一层的具体维数，因为只有这样，编译器才能无歧义的理解该参数在函数内部**加法运算**的含义。这也再次展示了C语言面向编译器的语法特性。


