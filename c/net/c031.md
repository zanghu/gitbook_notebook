## C: 基于libcurl进行http通讯

`curl`广泛应用于Linux shell和PHP中的HTTP通讯。

### 1.组装http post请求body

```c
char *http_req_body = ...; // http请求报文body
curl_easy_setopt(curl, CURLOPT_POSTFIELDS, http_req_body); // 设置POST请求报文体
...
res = curl_easy_perform(curl); // 进行http通讯
```

### 2.接收HTTP响应body

```c
// 设置保存返回报文body的函数
CHK_ERR(curl_easy_setopt(curl, CURLOPT_WRITEFUNCTION, body_callback)); // 将返回报文使用body_callback处理
CHK_ERR(curl_easy_setopt(curl, CURLOPT_WRITEDATA, body), ESA5201_CURL_API_FAILURE); // 提供write_res的第四个参数
```

### 2.接收http请求headers




### 3.自定义HTTP请求headers


### 4.获得HTTP请求headers


### 5.全局初始化与全局资源释放