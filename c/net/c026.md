## C: Linux环境epoll函数用法基础

I/O多路复用（IOmultiplexing）是实现非阻塞I/O和异步I/O的关键技术。

POSIX标准中的I/O多路复用接口族包括`select`和`poll`，Linux环境则提供了更为高效的一类接口`epoll`。

目前经典教材（例如：APUE或UNP）中缺少对`epoll`的介绍，因此本文特别总结了`epoll`的一些基本操作。

### 1.epoll的基本函数

`epoll`是`poll`的变种，其既支持***边缘触发***（Edge Triggered）模式也支持***层次触发***（Level Triggered）模式，可以很好的处理监控大量文件描述符的情况。 

`epoll`函数族包括三个系统调用函数：

* `epoll_create`：创建Epoll实例，并返回Epoll实例关联的文件描述符。（最新的epoll_create1扩展了epoll_create的功能）。

* `epoll_ctl`：注册关注的文件描述符。注册于同一epoll实例的一组文件描述符被称为epoll set，可以通过进程对应的/proc/[pid]/fdinfo目录查看。

* `epoll_wait`：epoll_wait：等待I/O事件，如果当前没有任何注册事件处于可用状态，调用线程会被阻塞。