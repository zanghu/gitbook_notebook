## C: 线程安全函数与可重入函数汇总

本文中图片均摘自《深入理解计算机系统（第三版）》和



### 1.概述

可重入函数和线程安全函数的定义：

![](/assets/c026_001.PNG)

![](/assets/c026_002.PNG)

可重入性的要求高于线程安全的要求，可重入函数是线程安全函数的一个子集。

由于目前绝大部分库函数（ISO C和POSIX）都是线程安全的，但只有少量函数是可重入的，因此线程安全函数采用黑名单机制（给出非线程安全函数名单），而可重入函数采用白名单机制（给出可重入函数名单）。

### 2.线程安全函数的黑名单

![](/assets/c026_003.PNG)

### 3.异步信号安全函数

可重入函数的典型应用场景就是用于编写信号处理函数，因为信号处理函数中只调用*异步信号安全*的函数，所谓异步信号安全的函数必须满足下面两个条件之一：

（1）是可重入函数；
（2）不能被信号处理函数中断。

